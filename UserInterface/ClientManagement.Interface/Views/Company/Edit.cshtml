@model ClientManagement.DomainModel.CompanyDomainModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";    
}

<script src="@Url.Content("https://code.jquery.com/jquery-3.3.1.js")"></script>
<script src="@Url.Content("https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js")"></script>

<div class="kt-container  kt-grid__item kt-grid__item--fluid">

    <!--Begin::App-->
    <div class="kt-grid kt-grid--desktop kt-grid--ver kt-grid--ver-desktop kt-app">

        <!--Begin:: App Aside Mobile Toggle-->
        <button class="kt-app__aside-close" id="kt_profile_aside_close">
            <i class="la la-close"></i>
        </button>

        <!--End:: App Aside Mobile Toggle-->
               
        <!--Begin:: App Content-->
        <div class="kt-grid__item kt-grid__item--fluid kt-app__content">
            <div class="kt-portlet">
                <div class="kt-portlet__head">
                    <div class="kt-portlet__head-label">
                        <h3 class="kt-portlet__head-title">Municipality Information </h3>
                    </div>                   
                </div>

                <div class="kt-form kt-form--label-right" id="kt_profile_form">               

                @Html.HiddenFor(model => model.CompanyId)
                @Html.HiddenFor(model => model.MunicipalityId)

                    <div class="kt-portlet__body">
                        <div class="kt-section kt-section--first">
                            <div class="kt-section__body">
                                                     
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Entity</label>
                                    <div class="col-lg-6 col-xl-6">
                                        @Html.TextBoxFor(x => x.RegisteredName, new { @class = "form-control", @placeholder = "Registered Name" })
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Province</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.Province, new { @class = "form-control", @placeholder = "Province", @disabled = "disabled" })
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Region</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.Region, new { @class = "form-control", @placeholder = "Region" , @disabled = "disabled" })                                       
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Municipality</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.Municipality, new { @class = "form-control", @placeholder = "Municipality" , @disabled = "disabled" })                                       
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Reg Number</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.CompanyRegistrationNumber, new { @class = "form-control", @placeholder = "Company Reg Number" })                                       
                                    </div>
                                </div>

                                 <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Inception Date</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.ExpiaryDate, new { @class = "form-control", @placeholder = "Inception Date" , @id="kt_datepicker_1_modal"})                                       
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Email Address</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.EmailAddress, new { @class = "form-control", @placeholder = "Email Address"})                                       
                                    </div>
                                </div>  
                                
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Contact Number</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.ContactNumber, new { @class = "form-control", @placeholder = "Contact Number"})                                       
                                    </div>
                                </div>  
                                
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Cellphone Number</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.CellphoneNumber, new { @class = "form-control", @placeholder = "Cellphone Number"})                                       
                                    </div>
                                </div>         
                                      
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">Website</label>
                                    <div class="col-lg-9 col-xl-6">
                                        @Html.TextBoxFor(x => x.Website, new { @class = "form-control", @placeholder = "http://"})                                       
                                    </div>
                                </div>

                                <div class="row">
                                <div class="col-lg-3 col-xl-3">
                                </div>
                                <div class="col-lg-9 col-xl-9">
                                    <button type="reset" class="btn btn-outline-brand kt-btn kt-btn--pill" onclick ="SubmitInformation()">Submit</button>	
                                </div>
                            </div>                        
                            </div>
                        </div>
                    </div>

                   @* <div class="kt-portlet__foot">
                        <div class="kt-form__actions">
                            <div class="row">
                                <div class="col-lg-3 col-xl-3">
                                </div>
                                <div class="col-lg-9 col-xl-9">
                                    <button type="reset" class="btn btn-success">Submit</button>									
                                </div>
                            </div>
                        </div>
                    </div>*@
               
                    </div>
            </div>
        </div>

        <!--End:: App Content-->
    </div>

    <!--End::App-->
</div>

 <button type="button" class="btn btn-default btn-bold btn-font-sm btn-upper" id="kt_toast_toggle_1"></button>
<!--begin:: Toast markup-->
<div class="toast toast-custom toast-fill fade hide" role="alert" aria-live="assertive" aria-atomic="true" id="kt_toast_1">
	<div class="toast-header">
		<i class="toast-icon flaticon2-attention kt-font-danger"></i>
		<span class="toast-title">Created successfully</span>		
	</div>
	<div class="toast-body">
		Created successfully, Fill all Information
	</div>
</div>

<!--end:: Toast markup-->

<script>
    function SubmitInformation() {        
        $.ajax({
            cache: false,
            type: "GET",
            data: {
                CompanyId: '@Model.CompanyId',
                MunicipalityId: '@Model.MunicipalityId',
                RegisteredName: $("#RegisteredName").val(),
                CompanyRegistrationNumber: $("#CompanyRegistrationNumber").val(),
                ExpiaryDate: $("#kt_datepicker_1_modal").val(),
                EmailAddress: $("#EmailAddress").val(),
                ContactNumber: $("#ContactNumber").val(),
                CellphoneNumber: $("#CellphoneNumber").val(),
                Website: $("#Website").val()               
            },
            url: '@Url.Action("SaveCompany","Company")',
            success: function (data) {               
                $("#kt_toast_toggle_1").click();                
                window.location.href = '@Url.Action("Index", "Company")';
            }
        });
    }
</script>


